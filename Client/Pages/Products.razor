@page "/Products"
@using ReichertsMeatDistributing.Shared;

<div class="con">
    <div class="row">
        <div class="col-md-2">
            <div class="bkgcolor"
                <h3>Filters</h3>
                <div class="form-group">
                    <select class="form-control" @bind="@PageSize" @oninput="OnPageSizeChange">
                        <option value="10">10 products</option>
                        <option value="20">20 products</option>
                        <option value="50">50 products</option>
                    </select>
                </div>
                <div class="form-group">
                    <input type="text" class="form-control" @bind="@Search" @oninput="UpdateSearch" placeholder="Search by name" />
                </div>
                <div class="form-group">
                    <select class="form-control" @bind="@SelectedCategory" @onclick="SelectedCat" title="Business Category">
                        <option value="@BusinessCategory.All">All</option>
                        <option value="@BusinessCategory.Bars">Bars</option>
                        <option value="@BusinessCategory.Restaurants">Restaurants</option>
                        <option value="@BusinessCategory.BurgerBars">Burger Bars</option>
                        <option value="@BusinessCategory.CoffeeShops">Coffee Shops</option>
                        <option value="@BusinessCategory.ConvenienceStores">Convenience Stores</option>
                    </select>
                </div>
            </div>
        </div>

        <div class="col-md-10">
            <div class="row">
                @foreach (var item in DisplayedProductItems)
                {
                    <div class="col-md-4">
                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title font-largest">@item.ItemDescription</h5>
                                <p class="card-text font-smaller">Item ID: <br>@item.ItemID</p>
                                <p class="card-text font-smaller-italic">Stocking UM: <br>@item.StockingUM</p>
                            </div>
                        </div>
                    </div>
                }
            </div>
            <div class="row">
                <div class="col-md-12">
                    @if (DisplayedProductItems.Count < ProductItems.Count && ShowLoadMoreButton)
                    {
                        <button @onclick="LoadMore">See More</button>
                    }
                </div>
            </div>
        </div>
    </div>
</div>